# π¨ νΈν…” μμ•½ μ‹μ¤ν… μ„¤μ • κ°€μ΄λ“

λΈ”λ£¨μ™€μΈ ν”„λ΅μ νΈμ— μ¶”κ°€λ νΈν…” μμ•½ μ‹μ¤ν…μ„ λ΅μ»¬μ—μ„ ν…μ¤νΈν•κΈ° μ„ν• μ„¤μ • κ°€μ΄λ“μ…λ‹λ‹¤.

## π“‹ μ‹μ¤ν… κµ¬μ„±

- **λ°±μ—”λ“**: Cloudflare D1 Database + Prisma ORM
- **API**: Astro API Routes (REST API)
- **ν”„λ΅ νΈμ—”λ“**: Astro + Vanilla TypeScript
- **μ¤νƒ€μΌλ§**: μ»¤μ¤ν…€ CSS (Tailwindμ™€ λ³‘μ©)

## π€ λ΅μ»¬ κ°λ° ν™κ²½ μ„¤μ •

### 1. ν¨ν‚¤μ§€ μ„¤μΉ

```bash
# ν”„λ΅μ νΈ λ£¨νΈμ—μ„ μ‹¤ν–‰
npm install
```

### 2. Prisma ν΄λΌμ΄μ–ΈνΈ μƒμ„±

```bash
npm run db:generate
```

### 3. λ΅μ»¬ D1 λ°μ΄ν„°λ² μ΄μ¤ λ§μ΄κ·Έλ μ΄μ…

```bash
# λ΅μ»¬ D1 λ°μ΄ν„°λ² μ΄μ¤μ— μ¤ν‚¤λ§ λ° μƒν” λ°μ΄ν„° μƒμ„±
npm run db:migrate
```

### 4. κ°λ° μ„λ²„ μ‹¤ν–‰

```bash
# Astro κ°λ° μ„λ²„ μ‹¤ν–‰
npm run dev
```

## π—„οΈ λ°μ΄ν„°λ² μ΄μ¤ κ΄€λ¦¬ λ…λ Ήμ–΄

```bash
# λ΅μ»¬ DB μ΄κΈ°ν™” (ν…μ΄λΈ” μ‚­μ )
npm run db:reset

# λ΅μ»¬ DB λ§μ΄κ·Έλ μ΄μ… (ν…μ΄λΈ” μƒμ„± + μƒν” λ°μ΄ν„°)
npm run db:migrate

# μ›κ²© DB λ§μ΄κ·Έλ μ΄μ… (ν”„λ΅λ•μ…μ©)
npm run db:migrate:remote

# Prisma ν΄λΌμ΄μ–ΈνΈ μ¬μƒμ„±
npm run db:generate

# λ΅μ»¬ DB ν…μ΄λΈ” ν™•μΈ
npm run db:studio
```

## π“± μ‚¬μ© κ°€λ¥ν• νμ΄μ§€

### 1. νΈν…” λ©λ΅ (`/hotel`)
- λ“±λ΅λ νΈν…”λ“¤μ„ ν™•μΈ
- μ²΄ν¬μΈ/μ²΄ν¬μ•„μ›ƒ λ‚ μ§ μ„ νƒ
- ν¬μ™κ° μ μ„ νƒ

### 2. νΈν…” μƒμ„Έ (`/hotel/[id]`)
- νΈν…” μƒμ„Έ μ •λ³΄
- κ°μ‹¤ νƒ€μ…λ³„ κ°€κ²© ν™•μΈ
- μ‹¤μ‹κ°„ μμ•½ κ°€λ¥ μ—¬λ¶€ μ²΄ν¬

### 3. μμ•½ν•κΈ° (`/hotel/booking`)
- ν¬μ™κ° μ •λ³΄ μ…λ ¥
- μμ•½ ν™•μ •

### 4. μμ•½ ν™•μΈ (`/hotel/booking/confirmation`)
- μμ•½ μ™„λ£ ν™•μΈ
- μμ•½ λ²νΈ λ°κΈ‰

### 5. μμ•½ μ΅°ν (`/hotel/reservations`)
- μμ•½ λ²νΈλ΅ μμ•½ μ •λ³΄ μ΅°ν
- μμ•½ μƒνƒ λ° μ„Έλ¶€ μ •λ³΄ ν™•μΈ

## π§ λ΅μ»¬ ν…μ¤νΈ λ°©λ²•

### κ°λ°ν™κ²½μ—μ„μ λ™μ‘

λ΅μ»¬ κ°λ° ν™κ²½μ—μ„λ” Cloudflare Workers ν™κ²½μ΄ μ•„λ‹λ―€λ΅ APIκ°€ μ‹¤μ  λ°μ΄ν„°λ² μ΄μ¤μ— μ—°κ²°λμ§€ μ•μµλ‹λ‹¤. λ€μ‹  **μƒν” λ°μ΄ν„°**κ°€ ν‘μ‹λ©λ‹λ‹¤.

### μƒν” λ°μ΄ν„°

**μƒν” νΈν…”**: λΈ”λ£¨μ™€μΈ λ¦¬μ΅°νΈ
- μ¤μ…λ·° μ¤μ„νΈ: β‚©350,000/λ°•
- κ°€λ“ λ·° λ””λ­μ¤: β‚©250,000/λ°•  
- μ¤νƒ λ‹¤λ“ λ£Έ: β‚©180,000/λ°•

**μƒν” μμ•½ μ½”λ“**: `SAMPLE123`
- μμ•½ μ΅°ν νμ΄μ§€μ—μ„ ν…μ¤νΈ κ°€λ¥

### ν…μ¤νΈ μ‹λ‚λ¦¬μ¤

1. **νΈν…” κ²€μƒ‰**: `/hotel` μ ‘μ† β†’ μƒν” νΈν…” ν™•μΈ
2. **νΈν…” μμ•½**: κ°μ‹¤ μ„ νƒ β†’ μμ•½ μ •λ³΄ μ…λ ¥ β†’ μƒν” μμ•½ μƒμ„±
3. **μμ•½ μ΅°ν**: `/hotel/reservations` μ ‘μ† β†’ `SAMPLE123` μ…λ ¥

## π”§ API μ—”λ“ν¬μΈνΈ

### Hotels API
- `GET /api/hotel` - νΈν…” λ©λ΅
- `GET /api/hotel/[id]` - νΈν…” μƒμ„Έ μ •λ³΄

### Reservations API  
- `GET /api/reservations/availability` - κ°μ‹¤ κ°€μ©μ„± ν™•μΈ
- `POST /api/reservations/create` - μμ•½ μƒμ„±
- `GET /api/reservations/[code]` - μμ•½ μ΅°ν

## π€ ν”„λ΅λ•μ… λ°°ν¬

### Cloudflare Pages λ°°ν¬

```bash
# λΉλ“ λ° λ°°ν¬
npm run build
npm run deploy
```

### ν™κ²½ λ³€μ μ„¤μ •

Cloudflare Pages λ€μ‹λ³΄λ“μ—μ„ μ„¤μ •:
- `DATABASE_URL`: (Wranglerκ°€ μλ™ κ΄€λ¦¬)
- `NODE_ENV`: `production`

## π“ λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§

### μ£Όμ” ν…μ΄λΈ”

1. **hotels**: νΈν…” κΈ°λ³Έ μ •λ³΄
2. **room_types**: κ°μ‹¤ νƒ€μ… (μ¤μ„νΈ, λ””λ­μ¤ λ“±)
3. **rooms**: μ‹¤μ  κ°μ‹¤ μΈλ²¤ν† λ¦¬
4. **reservations**: μμ•½ μ •λ³΄
5. **room_prices**: λ‚ μ§λ³„ κ°μ‹¤ κ°€κ²©

### μƒν” λ°μ΄ν„°

- 1κ° νΈν…” (λΈ”λ£¨μ™€μΈ λ¦¬μ΅°νΈ)
- 3κ° κ°μ‹¤ νƒ€μ…
- 12κ° κ°μ‹¤
- 30μΌκ°„ κ°€κ²© λ°μ΄ν„°

## π› λ¬Έμ  ν•΄κ²°

### 1. API μ¤λ¥ μ‹
```bash
# Prisma ν΄λΌμ΄μ–ΈνΈ μ¬μƒμ„±
npm run db:generate

# κ°λ° μ„λ²„ μ¬μ‹μ‘
npm run dev
```

### 2. λ°μ΄ν„°λ² μ΄μ¤ μ¤λ¥ μ‹
```bash
# λ΅μ»¬ DB μ΄κΈ°ν™” ν›„ μ¬μƒμ„±
npm run db:reset
npm run db:migrate
```

### 3. ν¨ν‚¤μ§€ μ¤λ¥ μ‹
```bash
# node_modules μ‚­μ  ν›„ μ¬μ„¤μΉ
rm -rf node_modules package-lock.json
npm install
```

## π“ μ¶”κ°€ κ°λ° μ‹ μ£Όμμ‚¬ν•­

1. **ν•κΈ€ μ§€μ›**: λ¨λ“  ν…μ¤νΈ ν•„λ“λ” UTF-8 μΈμ½”λ”© μ§€μ›
2. **λ°μ‘ν• λ””μμΈ**: λ¨λ°”μΌ μ°μ„  μ„¤κ³„
3. **μ—λ¬ μ²λ¦¬**: κ°λ°ν™κ²½κ³Ό ν”„λ΅λ•μ… ν™κ²½ λ¶„λ¦¬
4. **SEO μµμ ν™”**: κ° νμ΄μ§€λ³„ λ©”νƒ€νƒκ·Έ μ„¤μ •
5. **μ ‘κ·Όμ„±**: ARIA λ μ΄λΈ” λ° ν‚¤λ³΄λ“ λ„¤λΉ„κ²μ΄μ… μ§€μ›

## π― ν–¥ν›„ ν™•μ¥ κ³„ν

- [ ] κ²°μ  μ‹μ¤ν… μ—°λ™ (PortOne, Toss Payments)
- [ ] κ΄€λ¦¬μ λ€μ‹λ³΄λ“ (κ°μ‹¤/μμ•½ κ΄€λ¦¬)
- [ ] μ΄λ©”μΌ/SMS μ•λ¦Ό μ‹μ¤ν…
- [ ] λ‹¤κµ­μ–΄ μ§€μ› (ν•/μ)
- [ ] λ¨λ°”μΌ μ•± (PWA)

---

λ¬Έμμ‚¬ν•­μ΄λ‚ λ²„κ·Έ λ°κ²¬ μ‹ μ΄μλ΅ λ“±λ΅ν•΄ μ£Όμ„Έμ”! π€
